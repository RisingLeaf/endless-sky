# Copyright (c) 2019 by Peter van der Meer
#
# Endless Sky is free software: you can redistribute it and/or modify it under the
# terms of the GNU General Public License as published by the Free Software
# Foundation, either version 3 of the License, or (at your option) any later version.
#
# Endless Sky is distributed in the hope that it will be useful, but WITHOUT ANY
# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE.  See the GNU General Public License for more details.


# Triangle forming behind the formation leader with each alternating line getting filled from the other direction.
formation "Delta (tailing)"
	flippable y
	line
		start diameter -1 2
		end diameter 1 2
		slots 2
		repeat
			start diameter -2 4
			end diameter 2 4
			slots 2
	line
		start diameter 2 4
		end diameter -2 4
		slots 3
		repeat
			start diameter 2 4
			end diameter -2 4
			slots 2



# Regular triangle with the formation leader as center of the formation and the point of the triangle facing forward.
formation "Delta (centered)"
	flippable y
	rotatable 120
	line 2 0 3 330
		spacing 2
		repeat
			start diameter 3 1.732
			slots 3
	line -1 -1.732 3 210
		spacing 2
		repeat
			start diameter 0 -3.464
			slots 3
	line -1 1.732 3 90
		spacing 2
		repeat
			start diameter -3 1.732
			slots 3



# Regular triangle with the formation leader near the front and the point of the triangle facing backwards.
formation "Nabla"
	flippable y
	line 1 -1.732 2 270
		spacing 2
	line -3 -1.732 3 150
		spacing 2
		repeat
			start diameter -4 0
			slots 4
	line 0 3.464 4 30
		spacing 2
		repeat
			start diameter 0 6.928
			slots 4
	line 5 -1.732 5 210
		spacing 2
		repeat
			start diameter 4 0
			slots 4
	line 0 6.928 6 330
		spacing 2
		repeat
			start diameter 0 6.928
			slots 4



# Triangular (arrowhead) forming in front of the formation leader.
formation "Wedge"
	flippable y
	line -2 0 1 45
		spacing 2.8284
		repeat
			start diameter -4 0
			slots 2
	line 0 -2 2 135
		spacing 2.8284
		repeat
			start diameter 0 -4
			slots 2
	line 4 0 2 315
		spacing 2.8284
		repeat
			start diameter 4 0
			slots 2
	line 0 -4 3 225
		spacing 2.8284
		repeat
			start diameter 0 -4
			slots 2



# Diamond (tilted square) formation around the formation leader.
formation "Diamond"
	flippable x y
	rotatable 90
	line -1 1 1 135
		spacing 1.414
		repeat
			start diameter -2 0
			slots 2
	line 0 2 3 45
		spacing 1.414
		repeat
			start diameter 0 2
			slots 2
	line 1 -1 1 315
		spacing 1.414
		repeat
			start diameter 2 0
			slots 2
	line 0 -2 3 225
		spacing 1.414
		repeat
			start diameter 0 -2
			slots 2



# Hexagon around the formation leader.
formation "Hexagon"
	flippable y
	rotatable 60
	line -1 1.732 1 330
		spacing 2
		repeat
			start diameter -1 1.732
			slots 1
	line -2 0 1 30
		spacing 2
		repeat
			start diameter -2 0
			slots 1
	line -1 -1.732 1 90
		spacing 2
		repeat
			start diameter -1 -1.732
			slots 1
	line 1 -1.732 1 150
		spacing 2
		repeat
			start diameter 1 -1.732
			slots 1
	line 2 0 1 210
		spacing 2
		repeat
			start diameter 2 0
			slots 1
	line 1 1.732 1 270
		spacing 2
		repeat
			start diameter 1 1.732
			slots 1



# A (hexagonal grid based) block of ships in front of the lead ship.
formation "Block"
	flippable y
	line
		start diameter 0 -6.928
		end diameter 0 -3.464
		slots 2
	line
		start diameter 1 -5.196
		end diameter 1 -1.732
		slots 2
		repeat
			start diameter 2 0
			end diameter 2 0
	line
		start diameter -1 -5.196
		end diameter -1 -1.732
		slots 2
		repeat
			start diameter -2 0
			end diameter -2 0
	line
		start diameter -2 -6.928
		end diameter -2 -3.464
		slots 2
		repeat
			start diameter -2 0
			end diameter -2 0
	line
		start diameter 2 -6.928
		end diameter 2 -3.464
		slots 2
		repeat
			start diameter 2 0
			end diameter 2 0



# Formation with two legs extending on a 45 degree angle behind the lead ship.
# This formation is naturally used by birds due to energy efficiency and it
# is realatively easy to fly for pilots, since they just look at 1 ship in
# front of them.
formation "Vee"
	flippable y
	line
		start diameter -2 2
		repeat
			start diameter -2 2
	line
		start diameter 2 2
		repeat
			start diameter 2 2



# Formation where ships form a line right of the formation leader.
formation "Line (right)"
	flippable x
	line
		start diameter 1.5 0
		repeat
			start diameter 1.5 0



# Formation where ships form a line left of the formation leader.
formation "Line (left)"
	flippable x
	line
		start diameter -1.5 0
		repeat
			start diameter -1.5 0



# Formation where ships form a line behind the formation leader.
formation "Line (back)"
	flippable y
	line
		start diameter 0 1.5
		repeat
			start diameter 0 1.5



# Formation where ships form a line right and left of the formation leader.
# Using repeating segments of 3 so that the formation doesn't collapse and expand if a single ship leaves.
# (The collapse and expand still happens when 3 ships leave on one side.)
formation "Line (center)"
	flippable x y
	rotatable 180
	line
		start diameter -1 0
		repeat
			start diameter -1 0
	line
		start diameter 1 0
		repeat
			start diameter 1 0



# Formation where ships form a line right and left in front of the formation leader.
formation "Frontline"
	flippable y
	line
		start diameter 0 -3
		repeat
			start diameter -1 0
	line
		start diameter 1 -3
		repeat
			start diameter 1 0



# Formation where ships form a line right and left behind the formation leader.
formation "Rearline"
	flippable y
	line
		start diameter 0 3
		repeat
			start diameter -1 0
	line
		start diameter 1 3
		repeat
			start diameter 1 0



# Formation which is small at the center and expands outwards left-forward and right-forward.
formation "Claw"
	flippable y
	line
		start diameter -1 -0.5
		end diameter -1 -1.5
		slots 2
		repeat
			start diameter -1 -0.5
			end diameter -1 -1.5
			slots 1
	line
		start diameter 1 -0.5
		end diameter 1 -1.5
		slots 2
		repeat
			start diameter 1 -0.5
			end diameter 1 -1.5
			slots 1



# Formation which is small at the center and expands outwards left and right.
formation "Bowtie"
	flippable x y
	rotatable 180
	line
		start diameter -1 -0.5
		end diameter -1 0.5
		slots 2
		repeat
			start diameter -1 -0.5
			end diameter -1 0.5
			slots 1
	line
		start diameter 1 -0.5
		end diameter 1 0.5
		slots 2
		repeat
			start diameter 1 -0.5
			end diameter 1 0.5
			slots 1



# Formation which looks like the wings of an airplane.
formation "Wing"
	flippable y
	line
		start diameter -1 0.5
		end diameter -1 1.5
		slots 2
		repeat
			start diameter -1 0.5
			end diameter -1 0.5
	line
		start diameter 1 0.5
		end diameter 1 1.5
		slots 2
		repeat
			start diameter 1 0.5
			end diameter 1 0.5



# Formation where ships fly in a diagonal line right behind the formation leader.
formation "Echelon (right)"
	line
		start diameter 2 2
		repeat
			start diameter 2 2



# Formation where ships fly in a diagonal line left behind the formation leader.
formation "Echelon (left)"
	line
		start diameter -2 2
		repeat
			start diameter -2 2



# Formation that forms an X around the formation leader.
formation "X"
	flippable x y
	rotatable 90
	line
		start diameter 2 -2
		repeat
			start diameter 2 -2
	line
		start diameter -2 -2
		repeat
			start diameter -2 -2
	line
		start diameter -2 2
		repeat
			start diameter -2 2
	line
		start diameter 2 2
		repeat
			start diameter 2 2
